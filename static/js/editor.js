!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Editor=b()}(this,function(){"use strict";function b(a){var b=void 0;return b=document.createElement("div"),b.innerHTML=a,b.children}function c(a){return a?a instanceof HTMLCollection||a instanceof NodeList?!0:!1:!1}function d(a){var b=document.querySelectorAll(a);return c(b)?b:[b]}function f(a){var e,g,h,i;if(a){if(a instanceof f)return a;if(this.selector=a,e=a.nodeType,g=[],9===e?g=[a]:1===e?g=[a]:c(a)||a instanceof Array?g=a:"string"==typeof a&&(a=a.replace("/\n/mg","").trim(),g=0===a.indexOf("<")?b(a):d(a)),h=g.length,!h)return this;for(i=void 0,i=0;h>i;i++)this[i]=g[i];this.length=h}}function g(a){return new f(a)}function j(a,b){var c=void 0,d=void 0;for(c in a)if(a.hasOwnProperty(c)&&(d=b.call(a,c,a[c]),d===!1))break}function k(a,b){var c=void 0,d=void 0,e=void 0,f=a.length||0;for(c=0;f>c&&(d=a[c],e=b.call(a,d,c),e!==!1);c++);}function l(a){return a+Math.random().toString().slice(2)}function m(a){return null==a?"":a.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")}function n(a){return"function"==typeof a}function o(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-bold"><i/>\n        </div>'),this.type="click",this._active=!1}function r(a,b){var e,f,h,i,j,k,l,c=this,d=a.editor;this.menu=a,this.opt=b,e=g('<div class="w-e-droplist"></div>'),f=b.$title,h=void 0,f&&(h=f.html(),h=p(d,h),f.html(h),f.addClass("w-e-dp-title"),e.append(f)),i=b.list||[],j=b.type||"list",k=b.onClick||q,l=g('<ul class="'+("list"===j?"w-e-list":"w-e-block")+'"></ul>'),e.append(l),i.forEach(function(a){var f,h,b=a.$elem,e=b.html();e=p(d,e),b.html(e),f=a.value,h=g('<li class="w-e-item"></li>'),b&&(h.append(b),l.append(h),h.on("click",function(){k(f),c.hideTimeoutId=setTimeout(function(){c.hide()},0)}))}),e.on("mouseleave",function(){c.hideTimeoutId=setTimeout(function(){c.hide()},0)}),this.$container=e,this._rendered=!1,this._show=!1}function s(a){var b=this;this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-header"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new r(this,{width:100,$title:g("<p>设置标题</p>"),type:"list",list:[{$elem:g("<h1>H1</h1>"),value:"<h1>"},{$elem:g("<h2>H2</h2>"),value:"<h2>"},{$elem:g("<h3>H3</h3>"),value:"<h3>"},{$elem:g("<h4>H4</h4>"),value:"<h4>"},{$elem:g("<h5>H5</h5>"),value:"<h5>"},{$elem:g("<p>正文</p>"),value:"<p>"}],onClick:function(a){b._command(a)}})}function v(a,b){this.menu=a,this.opt=b}function w(a){this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-link"><i/></div>'),this.type="panel",this._active=!1}function x(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-italic"><i/>\n        </div>'),this.type="click",this._active=!1}function y(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-redo"><i/>\n        </div>'),this.type="click",this._active=!1}function z(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"><i/>\n        </div>'),this.type="click",this._active=!1}function A(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-underline"><i/>\n        </div>'),this.type="click",this._active=!1}function B(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-undo"><i/>\n        </div>'),this.type="click",this._active=!1}function C(a){var b=this;this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-list2"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new r(this,{width:120,$title:g("<p>设置列表</p>"),type:"list",list:[{$elem:g('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:g('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(a){b._command(a)}})}function D(a){var b=this;this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new r(this,{width:100,$title:g("<p>对齐方式</p>"),type:"list",list:[{$elem:g('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:g('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:g('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(a){b._command(a)}})}function E(a){var c,d,b=this;this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-pencil2"><i/></div>'),this.type="droplist",c=a.config,d=c.colors||[],this._active=!1,this.droplist=new r(this,{width:120,$title:g("<p>文字颜色</p>"),type:"inline-block",list:d.map(function(a){return{$elem:g('<i style="color:'+a+';" class="w-e-icon-pencil2"></i>'),value:a}}),onClick:function(a){b._command(a)}})}function F(a){var c,d,b=this;this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-paint-brush"><i/></div>'),this.type="droplist",c=a.config,d=c.colors||[],this._active=!1,this.droplist=new r(this,{width:120,$title:g("<p>背景色</p>"),type:"inline-block",list:d.map(function(a){return{$elem:g('<i style="color:'+a+';" class="w-e-icon-paint-brush"></i>'),value:a}}),onClick:function(a){b._command(a)}})}function G(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"><i/>\n        </div>'),this.type="click",this._active=!1}function H(a){this.editor=a,this.$elem=g('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"><i/>\n        </div>'),this.type="panel",this._active=!1}function I(a){this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-table2"><i/></div>'),this.type="panel",this._active=!1}function J(a){this.editor=a,this.$elem=g('<div class="w-e-menu"><i class="w-e-icon-play"><i/></div>'),this.type="panel",this._active=!1}function K(a){this.editor=a;var b=l("w-e-img");this.$elem=g('<div class="w-e-menu" id="'+b+'"><i class="w-e-icon-image"><i/></div>'),a.imgMenuId=b,this.type="panel",this._active=!1}function M(a){this.editor=a,this.menus={}}function N(a){var b=a.clipboardData||a.originalEvent&&a.originalEvent.clipboardData,c=void 0;return c=null==b?window.clipboardData&&window.clipboardData.getData("text"):b.getData("text/plain"),m(c)}function O(a,b){var f,c=a.clipboardData||a.originalEvent&&a.originalEvent.clipboardData,d=void 0,e=void 0;return null==c?d=window.clipboardData&&window.clipboardData.getData("text"):(d=c.getData("text/plain"),e=c.getData("text/html")),!e&&d&&(e="<p>"+m(d)+"</p>"),e?(f=e.split("</html>"),2===f.length&&(e=f[0]),e=e.replace(/<(meta|script|link).+?>/gim,""),e=e.replace(/<!--.*?-->/gm,""),e=e.replace(/\s?data-.+?=('|").+?('|")/gim,""),e=b?e.replace(/\s?(class|style)=('|").+?('|")/gim,""):e.replace(/\s?class=('|").+?('|")/gim,"")):void 0}function P(a){var d,e,b=[],c=N(a);return c?b:(d=a.clipboardData||a.originalEvent&&a.originalEvent.clipboardData||{},(e=d.items)?(j(e,function(a,c){var d=c.type;/image/i.test(d)&&b.push(c.getAsFile())}),b):b)}function Q(a){var b=[],c=a.childNodes()||[];return c.forEach(function(a){var e,f,h,i,j,c=void 0,d=a.nodeType;if(3===d&&(c=a.textContent),1===d){for(c={},c.tag=a.nodeName.toLowerCase(),e=[],f=a.attributes||{},h=f.length||0,i=0;h>i;i++)j=f[i],e.push({name:j.name,value:j.value});c.attrs=e,c.children=Q(g(a))}b.push(c)}),b}function R(a){this.editor=a}function S(a){this.editor=a}function T(a){this.editor=a,this._currentRange=null}function U(a){this.editor=a,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=a.$textContainerElem,this.$bar=g('<div class="w-e-progress"></div>')}function W(a){this.editor=a}function Y(a,b){if(null==a)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+X++,this.toolbarSelector=a,this.textSelector=b,this.customConfig={}}var h,i,p,q,t,u,L,V,X,$,_,ab,a=function(){"function"!=typeof Object.assign&&(Object.assign=function(a){var c,d,e,f;if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(c=Object(a),d=1;d<arguments.length;d++)if(e=arguments[d],null!=e)for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]=e[f]);return c}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;--c>=0&&b.item(c)!==this;);return c>-1})},e=[];f.prototype={constructor:f,forEach:function(a){var c,d,b=void 0;for(b=0;b<this.length&&(c=this[b],d=a.call(c,c,b),d!==!1);b++);return this},clone:function(a){var b=[];return this.forEach(function(c){b.push(c.cloneNode(!!a))}),g(b)},get:function(a){var b=this.length;return a>=b&&(a%=b),g(this[a])},first:function(){return this.get(0)},last:function(){var a=this.length;return this.get(a-1)},on:function(a,b,c){c||(c=b,b=null);var d=[];return d=a.split(/\s+/),this.forEach(function(a){d.forEach(function(d){return d?(e.push({elem:a,type:d,fn:c}),b?(a.addEventListener(d,function(a){var d=a.target;d.matches(b)&&c.call(d,a)}),void 0):(a.addEventListener(d,c),void 0)):void 0})})},off:function(a,b){return this.forEach(function(c){c.removeEventListener(a,b)})},attr:function(a,b){return null==b?this[0].getAttribute(a):this.forEach(function(c){c.setAttribute(a,b)})},addClass:function(a){return a?this.forEach(function(b){var c=void 0;b.className?(c=b.className.split(/\s/),c=c.filter(function(a){return!!a.trim()}),c.indexOf(a)<0&&c.push(a),b.className=c.join(" ")):b.className=a}):this},removeClass:function(a){return a?this.forEach(function(b){var c=void 0;b.className&&(c=b.className.split(/\s/),c=c.filter(function(b){return b=b.trim(),b&&b!==a?!0:!1}),b.className=c.join(" "))}):this},findClass:function(a){var b=this[0],c=void 0;return b.className?(c=b.className.split(/\s/),a&&(c=c.filter(function(b){return a.test(b.trim())})),c):null},css:function(a,b){var c=a+":"+b+";";return this.forEach(function(b){var d=(b.getAttribute("style")||"").trim(),e=void 0,f=[];d?(e=d.split(";"),e.forEach(function(a){var b=a.split(":").map(function(a){return a.trim()});2===b.length&&f.push(b[0]+":"+b[1])}),f=f.map(function(b){return 0===b.indexOf(a)?c:b}),f.indexOf(c)<0&&f.push(c),b.setAttribute("style",f.join("; "))):b.setAttribute("style",c)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var a=this[0];return a?g(a.children):null},childNodes:function(){var a=this[0];return a?g(a.childNodes):null},append:function(a){return this.forEach(function(b){a.forEach(function(a){b.appendChild(a)})})},remove:function(){return this.forEach(function(a){if(a.remove)a.remove();else{var b=a.parentElement;b&&b.removeChild(a)}})},isContain:function(a){var b=this[0],c=a[0];return b.contains(c)},getSizeData:function(){var a=this[0];return a.getBoundingClientRect()},getNodeName:function(){var a=this[0];return a.nodeName},find:function(a){var b=this[0];return g(b.querySelectorAll(a))},text:function(a){if(a)return this.forEach(function(b){b.innerHTML=a});var b=this[0];return b.innerHTML.replace(/<.*?>/g,function(){return""})},html:function(a){var b=this[0];return null==a?b.innerHTML:(b.innerHTML=a,this)},val:function(){var a=this[0];return a.value.trim()},focus:function(){return this.forEach(function(a){a.focus()})},parent:function(){var a=this[0];return g(a.parentElement)},parentUntil:function(a,b){var e,f,h,c=document.querySelectorAll(a),d=c.length;if(!d)return null;if(e=b||this[0],"BODY"===e.nodeName)return null;for(f=e.parentElement,h=void 0,h=0;d>h;h++)if(f===c[h])return g(f);return this.parentUntil(a,f)},equal:function(a){return 1===a.nodeType?this[0]===a:this[0]===a[0]},insertBefore:function(a){var b=g(a),c=b[0];return c?this.forEach(function(a){var b=c.parentNode;b.insertBefore(a,c)}):this},insertAfter:function(a){var b=g(a),c=b[0];return c?this.forEach(function(a){var b=c.parentNode;b.lastChild===c?b.appendChild(a):b.insertBefore(a,c.nextSibling)}):this}},g.offAll=function(){e.forEach(function(a){var b=a.elem,c=a.type,d=a.fn;b.removeEventListener(c,d)})},h={menus:["head","bold","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","image","table","video","code","undo","redo"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],zIndex:1e4,debug:!1,linkCheck:function(){return!0},linkImgCheck:function(){return!0},pasteFilterStyle:!0,pasteTextHandle:function(a){return a},showLinkImg:!0,linkImgCallback:function(){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(){},success:function(){},fail:function(){},error:function(){},timeout:function(){}},qiniu:!1},i={_ua:navigator.userAgent,isWebkit:function(){var a=/webkit/i;return a.test(this._ua)},isIE:function(){return"ActiveXObject"in window}},o.prototype={constructor:o,onClick:function(){var b=this.editor,c=b.selection.isSelectionEmpty();c&&b.selection.createEmptyRange(),b.cmd.do("bold"),c&&(b.selection.collapseRange(),b.selection.restoreSelection())},tryChangeActive:function(){var b=this.editor,c=this.$elem;b.cmd.queryCommandState("bold")?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},p=function(a,b){var c=a.config.langArgs||[],d=b;return c.forEach(function(a){var b=a.reg,c=a.val;b.test(d)&&(d=d.replace(b,function(){return c}))}),d},q=function(){},r.prototype={constructor:r,show:function(){var a,b,c,d,e;this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),a=this.menu,b=a.$elem,c=this.$container,this._show||(this._rendered?c.show():(d=b.getSizeData().height||0,e=this.opt.width||100,c.css("margin-top",d+"px").css("width",e+"px"),b.append(c),this._rendered=!0),this._show=!0)},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var a=this.$container;this._show&&(a.hide(),this._show=!1)}},s.prototype={constructor:s,_command:function(a){var b=this.editor,c=b.selection.getSelectionContainerElem();b.$textElem.equal(c)||b.cmd.do("formatBlock",a)},tryChangeActive:function(){var b=this.editor,c=this.$elem,d=/^h/i,e=b.cmd.queryCommandValue("formatBlock");d.test(e)?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},t=function(){},u=[],v.prototype={constructor:v,show:function(){var c,d,e,f,h,i,j,k,l,m,n,o,q,r,a=this,b=this.menu;u.indexOf(b)>=0||(c=b.editor,d=g("body"),e=c.$textContainerElem,f=this.opt,h=g('<div class="w-e-panel-container"></div>'),i=f.width||300,h.css("width",i+"px").css("margin-left",(0-i)/2+"px"),j=g('<i class="w-e-icon-close w-e-panel-close"></i>'),h.append(j),j.on("click",function(){a.hide()}),k=g('<ul class="w-e-panel-tab-title"></ul>'),l=g('<div class="w-e-panel-tab-content"></div>'),h.append(k).append(l),m=f.height,m&&l.css("height",m+"px").css("overflow-y","auto"),n=f.tabs||[],o=[],q=[],n.forEach(function(a,b){var d,e,f,h;a&&(d=a.title||"",e=a.tpl||"",d=p(c,d),e=p(c,e),f=g('<li class="w-e-item">'+d+"</li>"),k.append(f),h=g(e),l.append(h),f._index=b,o.push(f),q.push(h),0===b?(f._active=!0,f.addClass("w-e-active")):h.hide(),f.on("click",function(){f._active||(o.forEach(function(a){a._active=!1,a.removeClass("w-e-active")}),q.forEach(function(a){a.hide()}),f._active=!0,f.addClass("w-e-active"),h.show())}))}),h.on("click",function(a){a.stopPropagation()}),d.on("click",function(){a.hide()}),e.append(h),n.forEach(function(b,c){if(b){var d=b.events||[];d.forEach(function(b){var d=b.selector,e=b.type,f=b.fn||t,g=q[c];g.find(d).on(e,function(b){b.stopPropagation();var c=f(b);c&&a.hide()})})}}),r=h.find("input[type=text],textarea"),r.length&&r.get(0).focus(),this.$container=h,this._hideOtherPanels(),u.push(b))},hide:function(){var a=this.menu,b=this.$container;b&&b.remove(),u=u.filter(function(b){return b===a?!1:!0})},_hideOtherPanels:function(){u.length&&u.forEach(function(a){var b=a.panel||{};b.hide&&b.hide()})}},w.prototype={constructor:w,onClick:function(){var b=this.editor,c=void 0;if(this._active){if(c=b.selection.getSelectionContainerElem(),!c)return;b.selection.createRangeByElem(c),b.selection.restoreSelection(),this._createPanel(c.text(),c.attr("href"))}else b.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(b.selection.getSelectionText(),"")},_createPanel:function(a,b){var c=this,d=l("input-link"),e=l("input-text"),f=l("btn-ok"),h=l("btn-del"),i=this._active?"inline-block":"none",j=new v(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                            <input id="'+e+'" type="text" class="block" value="'+a+'" placeholder="链接文字"/></td>\n                            <input id="'+d+'" type="text" class="block" value="'+b+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+f+'" class="right">插入</button>\n                                <button id="'+h+'" class="gray right" style="display:'+i+'">删除链接</button>\n                            </div>\n                        </div>',events:[{selector:"#"+f,type:"click",fn:function(){var a=g("#"+d),b=g("#"+e),f=a.val(),h=b.val();return c._insertLink(h,f),!0}},{selector:"#"+h,type:"click",fn:function(){return c._delLink(),!0}}]}]});j.show(),this.panel=j},_delLink:function(){var a,b,c;this._active&&(a=this.editor,b=a.selection.getSelectionContainerElem(),b&&(c=a.selection.getSelectionText(),a.cmd.do("insertHTML","<span>"+c+"</span>")))},_insertLink:function(a,b){var c=this.editor,d=c.config,e=d.linkCheck,f=!0;e&&"function"==typeof e&&(f=e(a,b)),f===!0?c.cmd.do("insertHTML",'<a href="'+b+'" target="_blank">'+a+"</a>"):alert(f)},tryChangeActive:function(){var b=this.editor,c=this.$elem,d=b.selection.getSelectionContainerElem();d&&("A"===d.getNodeName()?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active")))}},x.prototype={constructor:x,onClick:function(){var b=this.editor,c=b.selection.isSelectionEmpty();c&&b.selection.createEmptyRange(),b.cmd.do("italic"),c&&(b.selection.collapseRange(),b.selection.restoreSelection())},tryChangeActive:function(){var b=this.editor,c=this.$elem;b.cmd.queryCommandState("italic")?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},y.prototype={constructor:y,onClick:function(){var b=this.editor;b.cmd.do("redo")}},z.prototype={constructor:z,onClick:function(){var b=this.editor,c=b.selection.isSelectionEmpty();c&&b.selection.createEmptyRange(),b.cmd.do("strikeThrough"),c&&(b.selection.collapseRange(),b.selection.restoreSelection())},tryChangeActive:function(){var b=this.editor,c=this.$elem;b.cmd.queryCommandState("strikeThrough")?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},A.prototype={constructor:A,onClick:function(){var b=this.editor,c=b.selection.isSelectionEmpty();c&&b.selection.createEmptyRange(),b.cmd.do("underline"),c&&(b.selection.collapseRange(),b.selection.restoreSelection())},tryChangeActive:function(){var b=this.editor,c=this.$elem;b.cmd.queryCommandState("underline")?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},B.prototype={constructor:B,onClick:function(){var b=this.editor;b.cmd.do("undo")}},C.prototype={constructor:C,_command:function(a){var d,e,b=this.editor,c=b.$textElem;b.selection.restoreSelection(),b.cmd.queryCommandState(a)||(b.cmd.do(a),d=b.selection.getSelectionContainerElem(),"LI"===d.getNodeName()&&(d=d.parent()),/^ol|ul$/i.test(d.getNodeName())!==!1&&(d.equal(c)||(e=d.parent(),e.equal(c)||(d.insertAfter(e),e.remove()))))},tryChangeActive:function(){var b=this.editor,c=this.$elem;b.cmd.queryCommandState("insertUnOrderedList")||b.cmd.queryCommandState("insertOrderedList")?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},D.prototype={constructor:D,_command:function(a){var b=this.editor;b.cmd.do(a)}},E.prototype={constructor:E,_command:function(a){var b=this.editor;b.cmd.do("foreColor",a)}},F.prototype={constructor:F,_command:function(a){var b=this.editor;b.cmd.do("backColor",a)}},G.prototype={constructor:G,onClick:function(){var e,f,b=this.editor,c=b.selection.getSelectionContainerElem(),d=c.getNodeName();return i.isIE()?(e=void 0,f=void 0,"P"===d?(e=c.text(),f=g("<blockquote>"+e+"</blockquote>"),f.insertAfter(c),c.remove(),void 0):("BLOCKQUOTE"===d&&(e=c.text(),f=g("<p>"+e+"</p>"),f.insertAfter(c),c.remove()),void 0)):("BLOCKQUOTE"===d?b.cmd.do("formatBlock","<P>"):b.cmd.do("formatBlock","<BLOCKQUOTE>"),void 0)},tryChangeActive:function(){var b=this.editor,c=this.$elem,d=/^BLOCKQUOTE$/i,e=b.cmd.queryCommandValue("formatBlock");d.test(e)?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},H.prototype={constructor:H,onClick:function(){var b=this.editor,c=b.selection.getSelectionStartElem(),d=b.selection.getSelectionEndElem(),e=b.selection.isSelectionEmpty(),f=b.selection.getSelectionText(),h=void 0;return c.equal(d)?e?(this._active?this._createPanel(c):this._createPanel(),void 0):(h=g("<code>"+f+"</code>"),b.cmd.do("insertElem",h),b.selection.createRangeByElem(h,!1),b.selection.restoreSelection(),void 0):(b.selection.restoreSelection(),void 0)},_createPanel:function(a){var e,f,h,i,j,k,n,b=this,c=a?"edit":"new",d=a?a.html():"";console.log(a),e=a?a.findClass(/language-\w+/).toString().replace(/language-(\w+)/,"$1").replace(/^default$/,""):"",f=a&&a.findClass()?"checked":"",h=l("texxt"),i=l("line"),j=l("land"),k=l("btn"),n=new v(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n   <textarea id="'+h+'" style="height:145px;;">'+d+'</textarea>\n                        <div class="w-e-button-container">\n    <input id="'+i+'"type="checkbox" '+f+'/>显示行号   <input id="'+j+'" type="text" value="'+e+'" placeholder="高亮语法"/>                       <button id="'+k+'" class="right">插入</button>\n                        </div>\n                    <div>',events:[{selector:"#"+k,type:"click",fn:function(){var a=g("#"+j),d=g("#"+h),e=g("#"+i),f=a.val().trim(),k=d.val()||d.html(),l=e[0].checked;return k=m(k),"new"===c?b._insertCode(k,f,l):b._updateCode(k,f,l),!0}}]}]}),n.show(),this.panel=n},_insertCode:function(a,b,c){var d=this.editor;b="language-"+(b||"default"),c=c?"line-numbers ":"",d.cmd.do("insertHTML",'<pre><code class="'+c+b+'">'+a+"</code></pre><p><br></p>")},_updateCode:function(a,b,c){var f,d=this.editor,e=d.selection.getSelectionContainerElem();e&&(f=e.findClass(/language-\w+/).toString(),b="language-"+(b||"default"),f!==b&&(e.removeClass(f),e.addClass(b)),console.log(c),c?e.addClass("line-numbers"):e.removeClass("line-numbers"),e.html(a),d.selection.restoreSelection())},tryChangeActive:function(){var e,b=this.editor,c=this.$elem,d=b.selection.getSelectionContainerElem();d&&(e=d.parent(),"CODE"===d.getNodeName()&&"PRE"===e.getNodeName()?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active")))}},I.prototype={constructor:I,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var a=this,b=l("btn"),c=l("row"),d=l("col"),e=new v(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'+c+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="'+d+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+b+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+b,type:"click",fn:function(){var b=parseInt(g("#"+c).val()),e=parseInt(g("#"+d).val());return b&&e&&b>0&&e>0&&a._insert(b,e),!0}}]}]});e.show(),this.panel=e},_insert:function(a,b){var f,c=void 0,d=void 0,e='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(c=0;a>c;c++){if(e+="<tr>",0===c)for(d=0;b>d;d++)e+="<th>&nbsp;</th>";else for(d=0;b>d;d++)e+="<td>&nbsp;</td>";e+="</tr>"}e+="</table><p><br></p>",f=this.editor,f.cmd.do("insertHTML",e),f.cmd.do("enableObjectResizing",!1),f.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var a=this,b=l("add-row"),c=l("add-col"),d=l("del-row"),e=l("del-col"),f=l("del-table"),g=new v(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+b+'" class="left">增加行</button>\n                            <button id="'+d+'" class="red left">删除行</button>\n                            <button id="'+c+'" class="left">增加列</button>\n                            <button id="'+e+'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+f+'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+b,type:"click",fn:function(){return a._addRow(),!0}},{selector:"#"+c,type:"click",fn:function(){return a._addCol(),!0}},{selector:"#"+d,type:"click",fn:function(){return a._delRow(),!0}},{selector:"#"+e,type:"click",fn:function(){return a._delCol(),!0}},{selector:"#"+f,type:"click",fn:function(){return a._delTable(),!0}}]}]});g.show()},_getLocationData:function(){var d,e,f,g,h,i,j,a={},b=this.editor,c=b.selection.getSelectionContainerElem();if(c&&(d=c.getNodeName(),"TD"===d||"TH"===d))return e=c.parent(),f=e.children(),g=f.length,f.forEach(function(b,d){return b===c[0]?(a.td={index:d,elem:b,length:g},!1):void 0}),h=e.parent(),i=h.children(),j=i.length,i.forEach(function(b,c){return b===e[0]?(a.tr={index:c,elem:b,length:j},!1):void 0}),a},_addRow:function(){var b,c,d,e,f,h,i,a=this._getLocationData();if(a){for(b=a.tr,c=g(b.elem),d=a.td,e=d.length,f=document.createElement("tr"),h="",i=void 0,i=0;e>i;i++)h+="<td>&nbsp;</td>";f.innerHTML=h,g(f).insertAfter(c)}},_addCol:function(){var b,c,d,e,f,h,a=this._getLocationData();a&&(b=a.tr,c=a.td,d=c.index,e=g(b.elem),f=e.parent(),h=f.children(),h.forEach(function(a){var b=g(a),c=b.children(),e=c.get(d),f=e.getNodeName().toLowerCase(),h=document.createElement(f);g(h).insertAfter(e)}))},_delRow:function(){var b,c,a=this._getLocationData();a&&(b=a.tr,c=g(b.elem),c.remove())},_delCol:function(){var b,c,d,e,f,h,a=this._getLocationData();a&&(b=a.tr,c=a.td,d=c.index,e=g(b.elem),f=e.parent(),h=f.children(),h.forEach(function(a){var b=g(a),c=b.children(),e=c.get(d);e.remove()}))},_delTable:function(){var c,a=this.editor,b=a.selection.getSelectionContainerElem();b&&(c=b.parentUntil("table"),c&&c.remove())},tryChangeActive:function(){var e,b=this.editor,c=this.$elem,d=b.selection.getSelectionContainerElem();d&&(e=d.getNodeName(),"TD"===e||"TH"===e?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active")))}},J.prototype={constructor:J,onClick:function(){this._createPanel()},_createPanel:function(){var a=this,b=l("text-val"),c=l("btn"),d=new v(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                        <input id="'+b+'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+c+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+c,type:"click",fn:function(){var c=g("#"+b),d=c.val().trim();return d&&a._insert(d),!0}}]}]});d.show(),this.panel=d},_insert:function(a){var b=this.editor;b.cmd.do("insertHTML",a+"<p><br></p>")}},K.prototype={constructor:K,onClick:function(){var a=this.editor,b=a.config;b.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var a=this.editor,b=l("width-30"),c=l("width-50"),d=l("width-100"),e=l("del-btn"),f=[{title:"编辑图片",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                        <button id="'+b+'" class="left">30%</button>\n                        <button id="'+c+'" class="left">50%</button>\n                        <button id="'+d+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+e+'" class="gray left">删除图片</button>\n                    </dv>\n                </div>',events:[{selector:"#"+b,type:"click",fn:function(){var b=a._selectedImg;return b&&b.css("max-width","30%"),!0}},{selector:"#"+c,type:"click",fn:function(){var b=a._selectedImg;return b&&b.css("max-width","50%"),!0}},{selector:"#"+d,type:"click",fn:function(){var b=a._selectedImg;return b&&b.css("max-width","100%"),!0}},{selector:"#"+e,type:"click",fn:function(){var b=a._selectedImg;return b&&b.remove(),!0}}]}],g=new v(this,{width:300,tabs:f});g.show(),this.panel=g},_createInsertPanel:function(){var k,a=this.editor,b=a.uploadImg,c=a.config,d=l("up-trigger"),e=l("up-file"),f=l("link-url"),h=l("link-btn"),i=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+d+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+e+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+d,type:"click",fn:function(){var a=g("#"+e),b=a[0];return b?(b.click(),void 0):!0}},{selector:"#"+e,type:"change",fn:function(){var d,a=g("#"+e),c=a[0];return c?(d=c.files,d.length&&b.uploadImg(d),!0):!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'+f+'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+h+'" class="right">插入</button>\n                    </div>\n                </div>',events:[{selector:"#"+h,type:"click",fn:function(){var a=g("#"+f),c=a.val().trim();return c&&b.insertLinkImg(c),!0}}]}],j=[];(c.uploadImgShowBase64||c.uploadImgServer||c.customUploadImg)&&window.FileReader&&j.push(i[0]),c.showLinkImg&&j.push(i[1]),k=new v(this,{width:300,tabs:j}),k.show(),this.panel=k},tryChangeActive:function(){var b=this.editor,c=this.$elem;b._selectedImg?(this._active=!0,c.addClass("w-e-active")):(this._active=!1,c.removeClass("w-e-active"))}},L={},L.bold=o,L.head=s,L.link=w,L.italic=x,L.redo=y,L.strikeThrough=z,L.underline=A,L.undo=B,L.list=C,L.justify=D,L.foreColor=E,L.backColor=F,L.quote=G,L.code=H,L.table=I,L.video=J,L.image=K,M.prototype={constructor:M,init:function(){var a=this,b=this.editor,c=b.config||{},d=c.menus||[];d.forEach(function(c){var d=L[c];d&&"function"==typeof d&&(a.menus[c]=new d(b))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var a=this.editor,b=a.$toolbarElem,c=this.menus,d=a.config,e=d.zIndex+1;j(c,function(a,c){var d=c.$elem;d&&(d.css("z-index",e),b.append(d))})},_bindEvent:function(){var a=this.menus,b=this.editor;j(a,function(a,c){var e,f,d=c.type;d&&(e=c.$elem,f=c.droplist,c.panel,"click"===d&&c.onClick&&e.on("click",function(a){null!=b.selection.getRange()&&c.onClick(a)}),"droplist"===d&&f&&e.on("mouseenter",function(){null!=b.selection.getRange()&&(f.showTimeoutId=setTimeout(function(){f.show()},200))}).on("mouseleave",function(){f.hideTimeoutId=setTimeout(function(){f.hide()
},0)}),"panel"===d&&c.onClick&&e.on("click",function(a){a.stopPropagation(),null!=b.selection.getRange()&&c.onClick(a)}))})},changeActive:function(){var a=this.menus;j(a,function(a,b){b.tryChangeActive&&setTimeout(function(){b.tryChangeActive()},100)})}},R.prototype={constructor:R,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function Xc(a){var b=this.editor,c=b.$textElem,Xc=void 0;return null==a?(Xc=c.html(),Xc=Xc.replace(/\u200b/gm,"")):(c.html(a),b.initSelection(),void 0)},getJSON:function(){var a=this.editor,b=a.$textElem;return Q(b)},text:function Zc(a){var b=this.editor,c=b.$textElem,Zc=void 0;return null==a?(Zc=c.text(),Zc=Zc.replace(/\u200b/gm,"")):(c.text("<p>"+a+"</p>"),b.initSelection(),void 0)},append:function(a){var b=this.editor,c=b.$textElem;c.append(g(a)),b.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){function c(){a.selection.saveRange(),a.menus.changeActive()}var a=this.editor,b=a.$textElem;b.on("keyup",c),b.on("mousedown",function(){b.on("mouseleave",c)}),b.on("mouseup",function(){c(),b.off("mouseleave",c)})},_enterKeyHandle:function(){function c(b){var c=g("<p><br></p>");c.insertBefore(b),a.selection.createRangeByElem(c,!0),a.selection.restoreSelection(),b.remove()}function d(){var g,e=a.selection.getSelectionContainerElem(),f=e.parent();return"<code><br></code>"===f.html()?(c(e),void 0):(f.equal(b)&&(g=e.getNodeName(),"P"!==g&&(e.text()||c(e))),void 0)}function e(b){var d,e,f,h,i,j,c=a.selection.getSelectionContainerElem();if(c&&(d=c.parent(),e=c.getNodeName(),f=d.getNodeName(),"CODE"===e&&"PRE"===f&&a.cmd.queryCommandSupported("insertHTML"))){if(a._willBreakCode===!0)return h=g("<p><br></p>"),h.insertAfter(d),a.selection.createRangeByElem(h,!0),a.selection.restoreSelection(),a._willBreakCode=!1,b.preventDefault(),void 0;i=a.selection.getRange().startOffset,a.cmd.do("insertHTML","\n"),a.selection.saveRange(),a.selection.getRange().startOffset===i&&a.cmd.do("insertHTML","\n"),j=c.html().length,a.selection.getRange().startOffset+1===j&&(a._willBreakCode=!0),b.preventDefault()}}var a=this.editor,b=a.$textElem;b.on("keyup",function(a){13===a.keyCode&&d(a)}),b.on("keydown",function(b){return 13!==b.keyCode?(a._willBreakCode=!1,void 0):(e(b),void 0)})},_clearHandle:function(){var a=this.editor,b=a.$textElem;b.on("keydown",function(a){if(8===a.keyCode){var c=b.html().toLowerCase().trim();return"<p><br></p>"===c?(a.preventDefault(),void 0):void 0}}),b.on("keyup",function(c){var d,e;8===c.keyCode&&(d=void 0,e=b.html().toLowerCase().trim(),e&&"<br>"!==e||(d=g("<p><br/></p>"),b.html(""),b.append(d),a.selection.createRangeByElem(d,!1,!0),a.selection.restoreSelection()))})},_pasteHandle:function(){function g(){var a=Date.now(),b=!1;return a-f>=500&&(b=!0),f=a,b}function h(){f=0}var a=this.editor,b=a.config,c=b.pasteFilterStyle,d=b.pasteTextHandle,e=a.$textElem,f=0;e.on("paste",function(b){var e,f,j,k;if(!i.isIE()&&(b.preventDefault(),g()&&(e=O(b,c),f=N(b),f=f.replace(/\n/gm,"<br>"),j=a.selection.getSelectionContainerElem()))){if(k=j.getNodeName(),"CODE"===k||"PRE"===k)return d&&n(d)&&(f=""+(d(f)||"")),a.cmd.do("insertHTML","<p>"+f+"</p>"),void 0;if(!e)return h(),void 0;try{d&&n(d)&&(e=""+(d(e)||"")),a.cmd.do("insertHTML",e)}catch(l){d&&n(d)&&(f=""+(d(f)||"")),a.cmd.do("insertHTML","<p>"+f+"</p>")}}}),e.on("paste",function(b){var c,d,e,f;i.isIE()||(b.preventDefault(),g()&&(c=P(b),c&&c.length&&(d=a.selection.getSelectionContainerElem(),d&&(e=d.getNodeName(),"CODE"!==e&&"PRE"!==e&&(f=a.uploadImg,f.uploadImg(c))))))})},_tabHandle:function(){var a=this.editor,b=a.$textElem;b.on("keydown",function(b){var c,d,e,f;9===b.keyCode&&a.cmd.queryCommandSupported("insertHTML")&&(c=a.selection.getSelectionContainerElem(),c&&(d=c.parent(),e=c.getNodeName(),f=d.getNodeName(),"CODE"===e&&"PRE"===f?a.cmd.do("insertHTML","    "):a.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),b.preventDefault()))})},_imgHandle:function(){var a=this.editor,b=a.$textElem;b.on("click","img",function(){var c=this,d=g(c);"1"!==d.attr("data-w-e")&&(a._selectedImg=d,a.selection.createRangeByElem(d),a.selection.restoreSelection())}),b.on("click  keyup",function(b){b.target.matches("img")||(a._selectedImg=null)})},_dragHandle:function(){var c,a=this.editor,b=g(document);b.on("dragleave drop dragenter dragover",function(a){a.preventDefault()}),c=a.$textElem,c.on("drop",function(b){var c,d;b.preventDefault(),c=b.dataTransfer&&b.dataTransfer.files,c&&c.length&&(d=a.uploadImg,d.uploadImg(c))})}},S.prototype={constructor:S,"do":function(a,b){var d,c=this.editor;c.selection.getRange()&&(c.selection.restoreSelection(),d="_"+a,this[d]?this[d](b):this._execCommand(a,b),c.menus.changeActive(),c.selection.saveRange(),c.selection.restoreSelection(),c.change&&c.change())},_insertHTML:function(a){var b=this.editor,c=b.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",a):c.insertNode?(c.deleteContents(),c.insertNode(g(a)[0])):c.pasteHTML&&c.pasteHTML(a)},_insertElem:function(a){var b=this.editor,c=b.selection.getRange();c.insertNode&&(c.deleteContents(),c.insertNode(a[0]))},_execCommand:function(a,b){document.execCommand(a,!1,b)},queryCommandValue:function(a){return document.queryCommandValue(a)},queryCommandState:function(a){return document.queryCommandState(a)},queryCommandSupported:function(a){return document.queryCommandSupported(a)}},T.prototype={constructor:T,getRange:function(){return this._currentRange},saveRange:function(a){var b,c,d,e,f;return a?(this._currentRange=a,void 0):(b=window.getSelection(),0!==b.rangeCount&&(c=b.getRangeAt(0),d=this.getSelectionContainerElem(c),d&&(e=this.editor,f=e.$textElem,f.isContain(d)&&(this._currentRange=c))),void 0)},collapseRange:function(a){null==a&&(a=!1);var b=this._currentRange;b&&b.collapse(a)},getSelectionText:function(){var a=this._currentRange;return a?this._currentRange.toString():""},getSelectionContainerElem:function(a){a=a||this._currentRange;var b=void 0;return a?(b=a.commonAncestorContainer,g(1===b.nodeType?b:b.parentNode)):void 0},getSelectionStartElem:function(a){a=a||this._currentRange;var b=void 0;return a?(b=a.startContainer,g(1===b.nodeType?b:b.parentNode)):void 0},getSelectionEndElem:function(a){a=a||this._currentRange;var b=void 0;return a?(b=a.endContainer,g(1===b.nodeType?b:b.parentNode)):void 0},isSelectionEmpty:function(){var a=this._currentRange;return a&&a.startContainer&&a.startContainer===a.endContainer&&a.startOffset===a.endOffset?!0:!1},restoreSelection:function(){var a=window.getSelection();a.removeAllRanges(),a.addRange(this._currentRange)},createEmptyRange:function(){var a=this.editor,b=this.getRange(),c=void 0;if(b&&this.isSelectionEmpty())try{i.isWebkit()?(a.cmd.do("insertHTML","&#8203;"),b.setEnd(b.endContainer,b.endOffset+1),this.saveRange(b)):(c=g("<strong>&#8203;</strong>"),a.cmd.do("insertElem",c),this.createRangeByElem(c,!0))}catch(d){}},createRangeByElem:function(a,b,c){var d,e;a.length&&(d=a[0],e=document.createRange(),c?e.selectNodeContents(d):e.selectNode(d),"boolean"==typeof b&&e.collapse(b),this.saveRange(e))}},U.prototype={constructor:U,show:function(a){var c,d,e,b=this;this._isShow||(this._isShow=!0,c=this.$bar,this._isRender?this._isRender=!0:(d=this.$textContainer,d.append(c)),Date.now()-this._time>100&&1>=a&&(c.css("width",100*a+"%"),this._time=Date.now()),e=this._timeoutId,e&&clearTimeout(e),e=setTimeout(function(){b._hide()},500))},_hide:function(){var a=this.$bar;a.remove(),this._time=0,this._isShow=!1,this._isRender=!1}},V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},W.prototype={constructor:W,_alert:function(a,b){var c=this.editor,d=c.config.debug,e=c.config.customAlert;if(d)throw new Error("wangEditor: "+(b||a));e&&"function"==typeof e?e(a):alert(a)},insertLinkImg:function(a){var c,d,e,f,g,b=this;if(a){if(c=this.editor,d=c.config,e=d.linkImgCheck,f=void 0,e&&"function"==typeof e&&(f=e(a),"string"==typeof f))return alert(f),void 0;c.cmd.do("insertHTML",'<img src="'+a+'" style="max-width:100%;"/>'),g=document.createElement("img"),g.onload=function(){var b=d.linkImgCallback;b&&"function"==typeof b&&b(a),g=null},g.onerror=function(){g=null,b._alert("插入图片错误",'wangEditor: 插入图片出错，图片链接是 "'+a+'"，下载该链接失败')},g.onabort=function(){g=null},g.src=a}},uploadImg:function(a){var c,d,e,f,g,h,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,b=this;if(a&&a.length&&(c=this.editor,d=c.config,e=d.uploadImgServer,f=d.uploadImgShowBase64,g=d.uploadImgMaxSize,h=g/1024/1024,i=d.uploadImgMaxLength||1e4,l=d.uploadFileName||"",m=d.uploadImgParams||{},n=d.uploadImgParamsWithUrl,o=d.uploadImgHeaders||{},p=d.uploadImgHooks||{},q=d.uploadImgTimeout||3e3,r=d.withCredentials,null==r&&(r=!1),s=d.customUploadImg,s||e||f))return t=[],u=[],k(a,function(a){var b=a.name,c=a.size;if(b&&c)return/\.(jpg|jpeg|png|bmp|gif)$/i.test(b)===!1?(u.push("【"+b+"】不是图片"),void 0):c>g?(u.push("【"+b+"】大于 "+h+"M"),void 0):(t.push(a),void 0)}),u.length?(this._alert("图片验证未通过: \n"+u.join("\n")),void 0):t.length>i?(this._alert("一次最多上传"+i+"张图片"),void 0):s&&"function"==typeof s?(s(t,this.insertLinkImg.bind(this)),void 0):(v=new FormData,k(t,function(a){var b=l||a.name;v.append(b,a)}),e&&"string"==typeof e?(w=e.split("#"),e=w[0],x=w[1]||"",j(m,function(a,b){b=encodeURIComponent(b),n&&(e+=e.indexOf("?")>0?"&":"?",e=e+a+"="+b),v.append(a,b)}),x&&(e+="#"+x),y=new XMLHttpRequest,y.open("POST",e),y.timeout=q,y.ontimeout=function(){p.timeout&&"function"==typeof p.timeout&&p.timeout(y,c),b._alert("上传图片超时")},y.upload&&(y.upload.onprogress=function(a){var b=void 0,d=new U(c);a.lengthComputable&&(b=a.loaded/a.total,d.show(b))}),y.onreadystatechange=function(){var e,a=void 0;if(4===y.readyState){if(y.status<200||y.status>=300)return p.error&&"function"==typeof p.error&&p.error(y,c),b._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 "+y.status),void 0;if(a=y.responseText,"object"!==("undefined"==typeof a?"undefined":V(a)))try{a=JSON.parse(a)}catch(d){return p.fail&&"function"==typeof p.fail&&p.fail(y,c,a),b._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+a),void 0}p.customInsert||"0"==a.errno?(p.customInsert&&"function"==typeof p.customInsert?p.customInsert(b.insertLinkImg.bind(b),a,c):(e=a.data||[],e.forEach(function(a){b.insertLinkImg(a)})),p.success&&"function"==typeof p.success&&p.success(y,c,a)):(p.fail&&"function"==typeof p.fail&&p.fail(y,c,a),b._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+a.errno))}},p.before&&"function"==typeof p.before&&(z=p.before(y,c,t),z&&"object"===("undefined"==typeof z?"undefined":V(z))&&z.prevent)?(this._alert(z.msg),void 0):(j(o,function(a,b){y.setRequestHeader(a,b)}),y.withCredentials=r,y.send(v),void 0)):(f&&k(a,function(a){var c=b,d=new FileReader;d.readAsDataURL(a),d.onload=function(){c.insertLinkImg(this.result)}}),void 0))}},X=1,Y.prototype={constructor:Y,_initConfig:function(){var b,c,a={};this.config=Object.assign(a,h,this.customConfig),b=this.config.lang||{},c=[],j(b,function(a,b){c.push({reg:new RegExp(a,"img"),val:b})}),this.config.langArgs=c},_initDom:function(){var m,n,o,a=this,b=this.toolbarSelector,c=g(b),d=this.textSelector,e=this.config,f=e.zIndex,h=void 0,i=void 0,j=void 0,k=void 0;null==d?(h=g("<div></div>"),i=g("<div></div>"),k=c.children(),c.append(h).append(i),h.css("background-color","#f1f1f1").css("border","1px solid #ccc"),i.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(h=c,i=g(d),k=i.children()),j=g("<div></div>"),j.attr("contenteditable","true").css("width","100%").css("height","100%"),k&&k.length?j.append(k):j.append(g("<p><br></p>")),i.append(j),h.addClass("w-e-toolbar"),i.addClass("w-e-text-container"),i.css("z-index",f),j.addClass("w-e-text"),m=l("toolbar-elem"),h.attr("id",m),n=l("text-elem"),j.attr("id",n),this.$toolbarElem=h,this.$textContainerElem=i,this.$textElem=j,this.toolbarElemId=m,this.textElemId=n,o=!0,i.on("compositionstart",function(){o=!1}),i.on("compositionend",function(){o=!0}),i.on("click keyup",function(){o&&a.change&&a.change()}),h.on("click",function(){this.change&&this.change()}),(e.onfocus||e.onblur)&&(this.isFocus=!1,g(document).on("click",function(b){var d=c.isContain(g(b.target));d?(a.isFocus||a.onfocus&&a.onfocus(),a.isFocus=!0):(a.isFocus&&a.onblur&&a.onblur(),a.isFocus=!1)}))},_initCommand:function(){this.cmd=new S(this)},_initSelectionAPI:function(){this.selection=new T(this)},_initUploadImg:function(){this.uploadImg=new W(this)},_initMenus:function(){this.menus=new M(this),this.menus.init()},_initText:function(){this.txt=new R(this),this.txt.init()},initSelection:function(a){var d,e,f,b=this.$textElem,c=b.children();return c.length?(d=c.last(),a&&(e=d.html().toLowerCase(),f=d.getNodeName(),"<br>"!==e&&"<br/>"!==e||"P"!==f)?(b.append(g("<p><br></p>")),this.initSelection(),void 0):(this.selection.createRangeByElem(d,!1,!0),this.selection.restoreSelection(),void 0)):(b.append(g("<p><br></p>")),this.initSelection(),void 0)},_bindEvent:function(){var e,f,g,a=0,b=this.txt.html(),c=this.config,d=c.onchangeTimeout;d=parseInt(d,10),(!d||0>=d)&&(d=200),e=c.onchange,e&&"function"==typeof e&&(this.change=function(){var c=this.txt.html();(c.length!==b.length||c!==b)&&(a&&clearTimeout(a),a=setTimeout(function(){e(c),b=c},d))}),f=c.onblur,f&&"function"==typeof f&&(this.onblur=function(){var a=this.txt.html();f(a)}),g=c.onfocus,g&&"function"==typeof g&&(this.onfocus=function(){g()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){g.offAll()}};try{}catch(Z){throw new Error("请在浏览器环境下运行")}return a(),$='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABXAAAsAAAAAFXQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPAmNtYXAAAAFoAAAA9AAAAPRAxxN6Z2FzcAAAAlwAAAAIAAAACAAAABBnbHlmAAACZAAAEHwAABB8kRGt5WhlYWQAABLgAAAANgAAADYN4rlyaGhlYQAAExgAAAAkAAAAJAfEA99obXR4AAATPAAAAHwAAAB8cAcDvGxvY2EAABO4AAAAQAAAAEAx8jYEbWF4cAAAE/gAAAAgAAAAIAAqALZuYW1lAAAUGAAAAYYAAAGGmUoJ+3Bvc3QAABWgAAAAIAAAACAAAwAAAAMD3AGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEANgAAAAyACAABAASAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepl6mjqcep58A3wFPEg8dzx/P/9//8AAAAAACDpBukN6RLpR+ll6Xfpuem76cbpy+nf6g3qYupo6nHqd/AN8BTxIPHc8fz//f//AAH/4xb+FvgW9BbAFqMWkxZSFlEWRxZDFjAWAxWvFa0VpRWgEA0QBw78DkEOIgADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAACgALAAAAS4DIyIOAgcOAxUUHgIXHgMzMj4CNz4DNTQuAicBEQ0BA9U2cXZ5Pz95dnE2Cw8LBgYLDws2cXZ5Pz95dnE2Cw8LBgYLDwv9qwFA/sADIAgMCAQECAwIKVRZWy8vW1lUKQgMCAQECAwIKVRZWy8vW1lUKf3gAYDAwAAAAAACAMD/wANAA8AAEwAfAAABIg4CFRQeAjEwPgI1NC4CAyImNTQ2MzIWFRQGAgBCdVcyZHhkZHhkMld1QlBwcFBQcHADwDJXdUJ4+syCgsz6eEJ1VzL+AHBQUHBwUFBwAAABAAAAAAQAA4AAIQAAASIOAgcnESEnPgEzMh4CFRQOAgcXPgM1NC4CIwIANWRcUiOWAYCQNYtQUItpPBIiMB5VKEAtGFCLu2oDgBUnNyOW/oCQNDw8aYtQK1FJQRpgI1ZibDlqu4tQAAEAAAAABAADgAAgAAATFB4CFzcuAzU0PgIzMhYXByERBy4DIyIOAgAYLUAoVR4wIhI8aYtQUIs1kAGAliNSXGQ1aruLUAGAOWxiViNgGkFJUStQi2k8PDSQAYCWIzcnFVCLuwACAAAAQAQBAwAAHgA9AAATMh4CFRQOAiMiLgI1JzQ+AjMVIgYHDgEHPgEhMh4CFRQOAiMiLgI1JzQ+AjMVIgYHDgEHPgHhLlI9IyM9Ui4uUj0jAUZ6o11AdS0JEAcIEgJJLlI9IyM9Ui4uUj0jAUZ6o11AdS0JEAcIEgIAIz1SLi5SPSMjPVIuIF2jekaAMC4IEwoCASM9Ui4uUj0jIz1SLiBdo3pGgDAuCBMKAgEAAAYAQP/ABAADwAADAAcACwARAB0AKQAAJSEVIREhFSERIRUhJxEjNSM1ExUzFSM1NzUjNTMVFREjNTM1IzUzNSM1AYACgP2AAoD9gAKA/YDAQEBAgMCAgMDAgICAgICAAgCAAgCAwP8AwED98jJAkjwyQJLu/sBAQEBAQAAGAAD/wAQAA8AAAwAHAAsAFwAjAC8AAAEhFSERIRUhESEVIQE0NjMyFhUUBiMiJhE0NjMyFhUUBiMiJhE0NjMyFhUUBiMiJgGAAoD9gAKA/YACgP2A/oBLNTVLSzU1S0s1NUtLNTVLSzU1S0s1NUsDgID/AID/AIADQDVLSzU1S0v+tTVLSzU1S0v+tTVLSzU1S0sAAwAAAAAEAAOgAAMADQAUAAA3IRUhJRUhNRMhFSE1ISUJASMRIxEABAD8AAQA/ACAAQABAAEA/WABIAEg4IBAQMBAQAEAgIDAASD+4P8AAQAAAAAAAgBT/8wDrQO0AC8AXAAAASImJy4BNDY/AT4BMzIWFx4BFAYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJy4BNDY/ATYyFxYUDwEGFBceATMyNj8BNjQnJjQ3NjIXHgEUBg8BDgEjAbgKEwgjJCQjwCNZMTFZIyMkJCNYDywPDw9YKSkUMxwcMxTAKSkPDwgTCrgxWSMjJCQjWA8sDw8PWCkpFDMcHDMUwCkpDw8PKxAjJCQjwCNZMQFECAckWl5aJMAiJSUiJFpeWiRXEBAPKw9YKXQpFBUVFMApdCkPKxAHCP6IJSIkWl5aJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJFpeWiTAIiUAAAAABQAA/8AEAAPAABMAJwA7AEcAUwAABTI+AjU0LgIjIg4CFRQeAhMyHgIVFA4CIyIuAjU0PgITMj4CNw4DIyIuAiceAyc0NjMyFhUUBiMiJiU0NjMyFhUUBiMiJgIAaruLUFCLu2pqu4tQUIu7alaYcUFBcZhWVphxQUFxmFYrVVFMIwU3Vm8/P29WNwUjTFFV1SUbGyUlGxslAYAlGxslJRsbJUBQi7tqaruLUFCLu2pqu4tQA6BBcZhWVphxQUFxmFZWmHFB/gkMFSAUQ3RWMTFWdEMUIBUM9yg4OCgoODgoKDg4KCg4OAAAAAADAAD/wAQAA8AAEwAnADMAAAEiDgIVFB4CMzI+AjU0LgIDIi4CNTQ+AjMyHgIVFA4CEwcnBxcHFzcXNyc3AgBqu4tQUIu7amq7i1BQi7tqVphxQUFxmFZWmHFBQXGYSqCgYKCgYKCgYKCgA8BQi7tqaruLUFCLu2pqu4tQ/GBBcZhWVphxQUFxmFZWmHFBAqCgoGCgoGCgoGCgoAADAMAAAANAA4AAEgAbACQAAAE+ATU0LgIjIREhMj4CNTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIChGXTX+wAGANV1GKET+hGUqPDwpZp+fnyw+PgHbIlQvNV1GKPyAKEZdNUZ0AUZLNTVL/oABAEs1NUsAAAIAwAAAA0ADgAAbAB8AAAEzERQOAiMiLgI1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgDJXdUJCdVcygBsYHEkoKEkcGBv+AAKA/YADgP5gPGlOLS1OaTwBoP5gHjgXGBsbGBc4Hv6ggAAAAQCAAAADgAOAAAsAAAEVIwEzFSE1MwEjNQOAgP7AgP5AgAFAgAOAQP0AQEADAEAAAQAAAAAEAAOAAD0AAAEVIx4BFRQGBw4BIyImJy4BNTMUFjMyNjU0JiMhNSEuAScuATU0Njc+ATMyFhceARUjNCYjIgYVFBYzMhYXBADrFRY1MCxxPj5xLDA1gHJOTnJyTv4AASwCBAEwNTUwLHE+PnEsMDWAck5OcnJOO24rAcBAHUEiNWIkISQkISRiNTRMTDQ0TEABAwEkYjU1YiQhJCQhJGI1NExMNDRMIR8AAAAHAAD/wAQAA8AAAwAHAAsADwATABsAIwAAEzMVIzczFSMlMxUjNzMVIyUzFSMDEyETMxMhEwEDIQMjAyEDAICAwMDAAQCAgMDAwAEAgIAQEP0AECAQAoAQ/UAQAwAQIBD9gBABwEBAQEBAQEBAQAJA/kABwP6AAYD8AAGA/oABQP7AAAAKAAAAAAQAA4AAAwAHAAsADwATABcAGwAfACMAJwAAExEhEQE1IRUdASE1ARUhNSMVITURIRUhJSEVIRE1IRUBIRUhITUhFQAEAP2AAQD/AAEA/wBA/wABAP8AAoABAP8AAQD8gAEA/wACgAEAA4D8gAOA/cDAwEDAwAIAwMDAwP8AwMDAAQDAwP7AwMDAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFSEVIREhFSERIRUhESEVIQAEAPwAAoD9gAKA/YAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEXIRUhESEVIQMhFSERIRUhAAQA/ADAAoD9gAKA/YDABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIQUhFSERIRUhASEVIREhFSEABAD8AAGAAoD9gAKA/YD+gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAANox8glfDzz1AAsEAAAAAADVYbp/AAAAANVhun8AAP+3BAEDwAAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAA//8EAQABAAAAAAAAAAAAAAAAAAAAHwQAAAAAAAAAAAAAAAIAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAEAAAABAAAUwQAAAAEAAAABAAAwAQAAMAEAACABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAyUAPwMlAAADvgAHBAAAIwP/AAAAAAAAAAoAFAAeAEwAlADaAQoBPgFwAcgCBgJQAnoDBAN6A8gEAgQ2BE4EpgToBTAFWAWABaoF7gamBvAH4gg+AAEAAAAfALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',_=document.createElement("style"),_.type="text/css",_.innerHTML=$,document.getElementsByTagName("HEAD").item(0).appendChild(_),ab=window.Editor||Y});